(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{102:function(t,e,n){},226:function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"fetchContacts",(function(){return N})),n.d(r,"addContact",(function(){return D})),n.d(r,"deleteContact",(function(){return M}));var a={};n.r(a),n.d(a,"getContacts",(function(){return R})),n.d(a,"getIsLoading",(function(){return T})),n.d(a,"getFilter",(function(){return U})),n.d(a,"getVisibleContacts",(function(){return $}));var c={};n.r(c),n.d(c,"changeFilter",(function(){return G}));var u,i,o=n(1),s=n.n(o),l=n(37),b=n.n(l),d=(n(102),n(54)),p=n(55),f=p.a.div(u||(u=Object(d.a)(["\n  width: 500px;\n  // color: #ab8116;\n  background: #e3da8a;\n  box-shadow: 0px 5px 8px #785c14;\n  padding: 30px;\n  border-radius: 4px;\n  margin: 20px auto;\n"]))),j=p.a.h2(i||(i=Object(d.a)(["\n  margin-bottom: 25px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: #8a2154;\n  color: #f7eed7;\n  border-radius: 2px;\n"]))),x=n(2);var h=function(t){var e=t.title;return Object(x.jsx)(j,{children:e})},m=n(93),O=n(96),g=n(42),v=n(12);var y=Object(v.a)("form",{target:"e1glp1s13"})(""),w=Object(v.a)("label",{target:"e1glp1s12"})({name:"1bxhhbb",styles:"display:flex;flex-direction:column;max-width:400px;margin-bottom:25px"}),C=Object(v.a)("input",{target:"e1glp1s11"})({name:"1hmwazc",styles:"width:440px;border:1px solid lightblue;border-radius:4px;font-size:20px;&:focus{outline:none;border:1px solid #8a2154;}"}),k=Object(v.a)("button",{target:"e1glp1s10"})({name:"1nhew8y",styles:"display:flex;align-items:center;justify-content:center;margin:25px auto;min-width:200px;padding:2px 32px;box-shadow:0px 4px 4px rgba(0, 0, 0, 0.15);border-radius:4px;border-style:none;cursor:pointer;font-weight:bold;font-size:16px;line-height:1.88;letter-spacing:0.06em;color:#ffffff;background-color:#cf2d7b;& svg{height:18px;width:18px;margin-right:10px;}"}),z=n(11),F=n(7),S=n.n(F),L=n(19),V=n(6),A=n(30),I=n.n(A);function W(){return Z.apply(this,arguments)}function Z(){return(Z=Object(L.a)(S.a.mark((function t(){var e,n;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.a.get("/contacts");case 2:return e=t.sent,n=e.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function q(t){return B.apply(this,arguments)}function B(){return(B=Object(L.a)(S.a.mark((function t(e){var n,r;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.a.post("/contacts",e);case 2:return n=t.sent,r=n.data,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function E(t){return J.apply(this,arguments)}function J(){return(J=Object(L.a)(S.a.mark((function t(e){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.a.delete("/contacts/".concat(e));case 2:return t.abrupt("return",e);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}I.a.defaults.baseURL="https://61156ec88f38520017a384ea.mockapi.io";var N=Object(V.c)("contacts/getContacts",function(){var t=Object(L.a)(S.a.mark((function t(e,n){var r,a;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.rejectWithValue,t.prev=1,t.next=4,W();case 4:return a=t.sent,t.abrupt("return",a);case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",r(t.t0));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n){return t.apply(this,arguments)}}()),D=Object(V.c)("contacts/addContact",function(){var t=Object(L.a)(S.a.mark((function t(e,n){var r,a;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.rejectWithValue,t.prev=1,t.next=4,q(e);case 4:return a=t.sent,t.abrupt("return",a);case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",r(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n){return t.apply(this,arguments)}}()),M=Object(V.c)("contacts/deleteContact",function(){var t=Object(L.a)(S.a.mark((function t(e,n){var r;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.rejectWithValue,t.prev=1,t.next=4,E(e);case 4:return t.abrupt("return",e);case 7:return t.prev=7,t.t0=t.catch(1),t.abrupt("return",r(t.t0.message));case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e,n){return t.apply(this,arguments)}}()),P=n(38),R=function(t){return t.contacts.items},T=function(t){return t.contacts.getIsLoading},U=function(t){return t.contacts.filter},$=Object(P.a)([R,U],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))})),G=Object(V.b)("phoneBook/changeFilter");var H=function(){var t=Object(z.b)(),e=Object(z.c)(a.getContacts),n=Object(O.a)({initialValues:{name:"",number:""},validationSchema:g.a({name:g.b().matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,"\u0418\u043c\u044f \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0431\u0443\u043a\u0432, \u0430\u043f\u043e\u0441\u0442\u0440\u043e\u0444\u0430, \u0442\u0438\u0440\u0435 \u0438 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432.").notOneOf(e.map((function(t){return t.name})),"\u0422\u0430\u043a\u043e\u0439 \u043a\u043e\u043d\u0442\u0430\u043a\u0442 \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442").required("O\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),number:g.b().matches(/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/,"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0446\u0438\u0444\u0440 \u0438 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043f\u0440\u043e\u0431\u0435\u043b\u044b, \u0442\u0438\u0440\u0435, \u043a\u0440\u0443\u0433\u043b\u044b\u0435 \u0441\u043a\u043e\u0431\u043a\u0438 \u0438 \u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u0447\u0438\u043d\u0430\u0442\u044c\u0441\u044f \u0441 +").required("O\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435")}),onSubmit:function(e,n){var a=n.setSubmitting,c=n.resetForm;return t(r.addContact({name:e.name,number:e.number})),a(!1),c()}}),c=n.handleSubmit,u=n.handleChange,i=n.isSubmitting,o=n.values,s=n.touched,l=n.errors;return Object(x.jsxs)(y,{onSubmit:c,children:[Object(x.jsxs)(w,{children:["Name",Object(x.jsx)(C,{name:"name",type:"text",onChange:u,value:o.name}),s.name&&l.name?Object(x.jsx)(x.Fragment,{children:l.name}):null]}),Object(x.jsxs)(w,{children:["Number",Object(x.jsx)(C,{id:"number",name:"number",type:"text",onChange:u,value:o.number}),s.number&&l.number?Object(x.jsx)(x.Fragment,{children:l.number}):null]}),Object(x.jsxs)(k,{type:"submit",disabled:i,children:[Object(x.jsx)(m.a,{}),"Add contact"]})]})},K=n(94),Q=n(95);var X=Object(v.a)("ul",{target:"eyoez6m2"})({name:"1fttcpj",styles:"display:flex;flex-direction:column"}),Y=Object(v.a)("li",{target:"eyoez6m1"})({name:"rfc8ve",styles:"display:flex;justify-content:space-between;align-items:center;margin-bottom:25px;max-width:450px;& svg{width:18px;height:18px;}"}),_=Object(v.a)("button",{target:"eyoez6m0"})({name:"174lsj7",styles:"display:flex;align-items:center;justify-content:center;min-width:200px;padding:2px 32px;box-shadow:0px 4px 4px rgba(0, 0, 0, 0.15);border-radius:4px;border-style:none;cursor:pointer;font-weight:bold;font-size:16px;line-height:1.88;letter-spacing:0.06em;color:#ffffff;background-color:#ad7892;& svg{color:#fff;height:18px;width:18px;margin-right:10px;}"});var tt=function(){var t=Object(z.b)();Object(o.useEffect)((function(){t(r.fetchContacts())}),[t]);var e=Object(z.c)(a.getVisibleContacts);return Object(x.jsx)(X,{children:e.map((function(e){var n=e.id,a=e.name,c=e.number;return Object(x.jsxs)(Y,{children:[Object(x.jsx)(K.a,{}),a,": ",c,Object(x.jsxs)(_,{onClick:function(){return t(r.deleteContact(n))},children:[Object(x.jsx)(Q.a,{}),"Delete"]})]},n)}))})};var et=function(){var t=Object(z.c)(a.getFilter),e=Object(z.b)();return Object(x.jsxs)(w,{children:["Find contacts by name",Object(x.jsx)(C,{type:"text",value:t,onChange:function(t){return e(c.changeFilter(t.target.value))}})]})};var nt,rt,at,ct=function(){return Object(x.jsxs)(f,{children:[Object(x.jsx)(h,{title:"Phonebook"}),Object(x.jsx)(H,{}),Object(x.jsx)(et,{}),Object(x.jsx)(h,{title:"Contacts"}),Object(x.jsx)(tt,{})]})},ut=n(4),it=n(9),ot=n(10),st=Object(V.d)([],(nt={},Object(ut.a)(nt,N.fulfilled,(function(t,e){return e.payload})),Object(ut.a)(nt,D.fulfilled,(function(t,e){return[e.payload].concat(Object(it.a)(t))})),Object(ut.a)(nt,M.fulfilled,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),nt)),lt=Object(V.d)(!1,(rt={},Object(ut.a)(rt,N.pending,(function(){return!0})),Object(ut.a)(rt,N.fulfilled,(function(){return!1})),Object(ut.a)(rt,N.rejected,(function(){return!1})),Object(ut.a)(rt,D.pending,(function(){return!0})),Object(ut.a)(rt,D.fulfilled,(function(){return!1})),Object(ut.a)(rt,D.rejected,(function(){return!1})),Object(ut.a)(rt,M.pending,(function(){return!0})),Object(ut.a)(rt,M.fulfilled,(function(){return!1})),Object(ut.a)(rt,M.rejected,(function(){return!1})),rt)),bt=Object(V.d)(null,(at={},Object(ut.a)(at,N.pending,null),Object(ut.a)(at,N.rejected,(function(t,e){return e.payload})),Object(ut.a)(at,D.pending,null),Object(ut.a)(at,D.rejected,(function(t,e){return e.payload})),Object(ut.a)(at,M.pending,null),Object(ut.a)(at,M.rejected,(function(t,e){return e.payload})),at)),dt=Object(V.d)("",Object(ut.a)({},G,(function(t,e){return e.payload}))),pt=Object(ot.b)({items:st,isLoading:lt,error:bt,filter:dt}),ft=Object(V.a)({reducer:{contacts:pt},devTools:!1});b.a.render(Object(x.jsx)(s.a.StrictMode,{children:Object(x.jsx)(z.a,{store:ft,children:Object(x.jsx)(ct,{})})}),document.getElementById("root"))}},[[226,1,2]]]);
//# sourceMappingURL=main.2147cd6f.chunk.js.map